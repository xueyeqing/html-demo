<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>scroll</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    .item {
      width: 100%;
      height: 400px;
    }

    .return-top {
      background: url('./image/back-top.png') no-repeat;
      height: 48px;
      width: 48px;
      right: 30px;
      position: fixed;
      display: none;
      bottom: 30px;
      z-index: 9999999999
    }

    .return-top:hover {
      background: url('./image/top.png') no-repeat;
    }
  </style>
</head>

<body>

  <div class="item" style="background: #3bafda;"></div>
  <div class="item" style="background: #ddd;"></div>
  <div class="item" style="background: #ff9600;"></div>
  <div class="item" style="background: #3bafda;"></div>

  <a title="返回顶部" class="return-top" id="top" href="javascript:;"></a>

</body>

</html>

<script>

  window.onscroll = function () {
    var topBtn = document.getElementById('top');
    // 获取视窗高度
    var winHeight = document.documentElement.clientHeight;
    var toTop = document.documentElement.scrollTop || document.body.scrollTop;
    // 如果滚动超过一屏，返回顶部按钮出现，反之隐藏
    if (toTop >= winHeight) {
      topBtn.style.display = 'block';
    } else {
      topBtn.style.display = 'none';
    }
    // 点击事件
    topBtn.onclick = function () {
      var timer = setInterval(function () {
        var toTop = document.documentElement.scrollTop || document.body.scrollTop;
        // 判断是否到达顶部，到达顶部停止滚动，没到达顶部继续滚动
        if (toTop == 0) {
          clearInterval(timer);
        } else {
          // 设置滚动速度
          var speed = Math.ceil(toTop / 4);
          // 页面向上滚动
          document.documentElement.scrollTop = document.body.scrollTop = toTop - speed;
        }
      }, 50);
    }
  }
</script>